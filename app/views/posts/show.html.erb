<section class="show-one-post">
  <p><strong>Post:</strong></p>
  <p><%= image_tag @post.image.url(:square) %></p>
  <p><%= @post.title %></p>
    <p><strong>Comments:</strong>
      <ul>
        <% @post.comments.each do |comment| %>
        <li><%= comment.text %></li>
        <% end %>
      </ul>
    </p>
    <section class="comment-form">
      <p><strong>Add a comment:</strong></p>

      <%= form_for([@post, @post.comments.build]) do |form| %>
        <% if @comment.errors.any? %>
          <div id="error_explanation">
            <p>
              <%= pluralize(@comment.errors.count, "error") %> prevented
              this comment from being saved:
            </p>
            <ul>
              <% @comment.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
              <% end %>
            </ul>
          </div>
        <% end %>
        <p>
          <%= form.label :text %><br>
          <%= form.text_area :text %>
        </p>
        <p>
          <%= form.submit %>
        </p>
      <% end %>
      <%= link_to 'Back', posts_path %>
    </section>
</section>
