
- if @posts.any?
  - @posts.each do |post|
    %h2= post.description
    = image_tag post.image.url(:medium)
    = link_to "More", post_path(post)
    = link_to "Edit", edit_post_path(post)
    = link_to "Delete", post_path(post), method: :delete
    = link_to "Add comment", new_post_comment_path(post)
    - if current_user
      = form_for [post, @comment] do |f|
        = f.label :comment
        = f.text_area :comment
        = f.submit 'Leave comment'

    %h3
      Comments

    - if post.comments.any?
      %ul
        - post.comments.each do |comment|
          %li
            = comment.comment
            = comment.user.name
      %p No comments
- else
  No posts yet

%a(href='#{url_for(action: 'new', controller: 'posts')}') Add a post
