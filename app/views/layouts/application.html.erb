<!DOCTYPE html>
<html>

<head>
  <title>InstagramChallenge</title>
  <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
      <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
</head>

<body>

  <nav class="navbar navbar-default">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <%= link_to "Instagram Home", root_path, class: 'navbar-brand' %>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav">

          <% if current_user %>
            <li><%= link_to 'Logout', logout_path, method: 'delete' %></li>
              <li><%= link_to 'My Profile', user_path(current_user) %></li>

            <% else %>
              <li>
                <%= link_to "Sign Up", new_user_path %>
              </li>
              <li>
                <%= link_to "Sign In", new_session_path %>
              </li>
              <% end %>


                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                    <li><a href="#">Action</a></li>
                    <li><a href="#">Another action</a></li>
                    <li><a href="#">Something else here</a></li>
                    <li role="separator" class="divider"></li>
                    <li class="dropdown-header">Nav header</li>
                    <li><a href="#">Separated link</a></li>
                    <li><a href="#">One more separated link</a></li>
                  </ul>
                </li>
        </ul>

        <ul class="nav navbar-nav navbar-right">
          <li class="active"><a href="#">Current User Count: <%= User.count %></span></a></li>
          <li><a href="#"><% if current_user %>
            Signed in as
            <%= current_user.name %>
              <% end %></a></li>

        </ul>
      </div>
      <!--/.nav-collapse -->



    </div>
    <!--/.container-fluid -->
  </nav>

  <div class="container">
    <ul>
      <% if flash[:message] %>
        <%= flash[:message] %>
          <% end %>

            <% if @user && @user.errors.full_messages.any? %>
              <% @user.errors.full_messages.count %>
                <% @user.errors.full_messages.each do |error_message| %>
                  <%= error_message %>
                    <br />
                    <% end %>
                      <% end %>
    </ul>

      <div class="text-center">
        <%= yield %>
      </div>

  </div>

</body>
</html>
