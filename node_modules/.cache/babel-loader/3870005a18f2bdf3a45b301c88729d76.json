{"ast":null,"code":"var _jsxFileName = \"/Users/aracho/Makers/Projects/week8/instagram-challenge/instagram-react/instagram/app/javascript/components/User/Post.js\",\n    _this = this;\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  border: 1px solid #efefef;\\n  background: #fff;\\n  text-align: center;\\n  width: 300px;\\n  overflow: hidden;\\n\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  overflow: hidden;\\n  img {\\n    height: 300px;\\n    border: 1px solid #efefef;\\n    border-radius: 30px;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _taggedTemplateLiteral(strings, raw) { if (!raw) { raw = strings.slice(0); } return Object.freeze(Object.defineProperties(strings, { raw: { value: Object.freeze(raw) } })); }\n\nimport React from \"react\";\nimport LikeButton from \"../like_button\";\nimport styled from \"styled-components\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nvar ProfilePhoto = styled.div(_templateObject());\nvar Card = styled.div(_templateObject2());\n\nvar Post = function Post(props) {\n  var _props$attributes = props.attributes,\n      id = _props$attributes.id,\n      image_url = _props$attributes.image_url,\n      comments = _props$attributes.comments;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      post_comments = _useState2[0],\n      setComments = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loaded = _useState4[0],\n      setLoaded = _useState4[1];\n\n  handleComment = function handleComment(event) {\n    event.preventDefault();\n    var comment = {\n      \"comment\": \"\".concat(_this.state.comment)\n    };\n    axios.patch('/api/v1/posts', comment).then(function (response) {\n      _this.setState(response.data.id);\n\n      _this.props.history.push('/');\n    })[\"catch\"](function (error) {\n      _this.setState({\n        errorMessage: error.message\n      });\n\n      console.error('There was an error!', error);\n    });\n  };\n\n  var postComments;\n\n  if (posts && posts.length > 0) {\n    userPosts = posts.map(function (post, index) {\n      return /*#__PURE__*/React.createElement(Post, {\n        key: index,\n        id: post.id,\n        attributes: post.attributes,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 9\n        }\n      });\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ProfilePhoto, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: image_url,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(LikeButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Form.Group, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    placeholder: \"Leave a comment\",\n    inline: \"true\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    variant: \"info\",\n    type: \"submit\",\n    size: \"sm\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, \"Enter\")));\n};\n\nexport default Post;","map":{"version":3,"sources":["/Users/aracho/Makers/Projects/week8/instagram-challenge/instagram-react/instagram/app/javascript/components/User/Post.js"],"names":["React","LikeButton","styled","Form","Button","axios","ProfilePhoto","div","Card","Post","props","attributes","id","image_url","comments","useState","post_comments","setComments","loaded","setLoaded","handleComment","event","preventDefault","comment","state","patch","then","response","setState","data","history","push","error","errorMessage","message","console","postComments","posts","length","userPosts","map","post","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport LikeButton from \"../like_button\";\nimport styled from \"styled-components\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\n\nconst ProfilePhoto = styled.div`\n  overflow: hidden;\n  img {\n    height: 300px;\n    border: 1px solid #efefef;\n    border-radius: 30px;\n  }\n`;\n\nconst Card = styled.div`\n  border: 1px solid #efefef;\n  background: #fff;\n  text-align: center;\n  width: 300px;\n  overflow: hidden;\n\n`\n\nconst Post = (props) => {\n  const { id, image_url, comments } = props.attributes;\n  const [post_comments, setComments] = useState([]);\n  const [loaded, setLoaded] = useState(false);\n\n  handleComment = event => {\n    event.preventDefault();\n    const comment = { \"comment\": `${this.state.comment}` };\n    axios.patch('/api/v1/posts', comment)\n    .then(response => {\n      this.setState(response.data.id)\n      this.props.history.push('/')\n    })\n    .catch(error => {\n      this.setState({ errorMessage: error.message });\n      console.error('There was an error!', error);\n  });\n  };\n\n  let postComments;\n\n  if (posts && posts.length > 0) {    \n    userPosts = posts.map( (post, index) => {\n      return (\n        <Post \n          key={index}\n          id={post.id}\n          attributes={post.attributes}\n        />\n      )\n    })\n  }\n\n  return (\n    <Card>\n      <ProfilePhoto>\n        <img src={image_url} />\n      </ProfilePhoto>\n      <LikeButton />\n      <Form.Group>\n        <Form.Control type=\"text\" placeholder=\"Leave a comment\" inline=\"true\"/>\n          <Button variant=\"info\" type=\"submit\" size=\"sm\">\n            Enter\n          </Button>\n      </Form.Group>\n    </Card>\n  );\n};\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}